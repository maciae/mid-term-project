<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Mid-term project</title>
    <link rel="stylesheet" type="text/css" href="./styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/htmlincludejs"></script>
    <script src="js/index.js"></script>  
  </head>
  <body>
    <include src="sections/header.html"></include>
    <main>
      <include src="sections/hero.html"></include>
      <include src="sections/client.html"></include>
      <include src="sections/projects.html"></include>
      <include src="sections/reviews.html"></include>
      <include src="sections/services.html"></include>
      <include src="sections/questions.html"></include>
    </main>
    <include src="sections/footer.html"></include>
  </body>
</html>

<script type="text/javascript">
  const projectsImages = ["images/projects-section/1.jpg", "images/projects-section/2.jpg", "images/projects-section/3.jpg"];
const projectsLinks = ["/simplify", "/dashcoin", "/vectorify"];

getPosts().then(posts => {
/*
    posts.forEach(function (item, index) {
        console.log(item, index);
    });
*/

let loopLength = posts.length > 3 ? 3 : posts.length;
for (let i = 0 ; i < loopLength ; i++){
    //console.log(posts[i]);
    let cardHTML = '\
    <div class="card"> \
    <img class="card__img"src="' + projectsImages[i] + '"> \
    <div class="card__title"> \
        '+ posts[i].title +' \
    </div> \
    <p class="card__description"> \
        ' + posts[i].body +' \
    </p> \
    <div class="card__link-div"> \
        <a class="card__link" href=" ' + projectsLinks[i] +'">Learn more</a> \
    </div> \
    </div> \
    ';
    document.getElementsByClassName('projects__cards')[0].insertAdjacentHTML('beforeend', cardHTML);
}
});
</script>